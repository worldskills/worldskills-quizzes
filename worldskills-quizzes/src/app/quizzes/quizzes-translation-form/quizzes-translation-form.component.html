<ng-container *ngIf="quiz && questions && form">
  <form class="form-horizontal" name="form" novalidate focus-error (submit)="save()">
    <div class="form-group" *ngIf="!form.get('locale').value"
         [ngClass]="{'has-error': form.get('locale').invalid}">
      <label class="col-sm-3 control-label">Language <span
        class="required">*</span></label>
      <div class="col-sm-4">
        <select class="form-control" [formControl]="form.get('locale')">
          <option></option>
          <option value="de">{{'de'}}</option>
          <option value="fr">{{'fr'}}</option>
          <option value="pt_BR">{{'pt_BR'}}</option>
        </select>
      </div>
      <div class="col-sm-5">
        <span class="help-block"
              *ngIf="form.get('locale').errors && form.get('locale').errors.required && form.get('locale').touched">Please select a language!</span>
      </div>
    </div>
    <div class="form-group"
         [ngClass]="{'has-error': form.get('title').errors && form.get('title').touched}">
      <label for="title" class="col-sm-3 control-label">Title <span
        class="required">*</span></label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="title" required
               [formControl]="form.get('title')">
      </div>
      <div class="col-sm-5">
        <span class="help-block"
              *ngIf="form.get('locale').errors && form.get('locale').errors.required && form.get('locale').touched">Please enter a title!</span>
      </div>
    </div>
    <div *ngFor="let questionControl of questionControls">
      <hr/>
      <div class="form-group">
        <label class="col-sm-3 control-label">Question {{questionControl.get('sort').value}} <span
          class="required">*</span></label>
        <div class="col-sm-8 col-lg-5">
          <textarea class="form-control" rows="2" [formControl]="questionControl.get('question')"
                    ck-editor></textarea>
        </div>
      </div>
      <div class="form-group" *ngFor="let answerControl of getAnswerControls(questionControl)">
        <div class="col-sm-3 control-label">
          <fa-icon *ngIf="answerControl.get('correct').value" [icon]="faCheck"
                   title="Answer is correct" class="text-success"></fa-icon>
          <fa-icon *ngIf="!answerControl.get('correct').value" [icon]="faTimes"
                   title="Answer is not correct" class="text-danger"></fa-icon>
          Answer {{answerControl.get('sort').value}} <span class="required">*</span>
        </div>
        <div class="col-sm-8 col-lg-5">
          <textarea class="form-control" rows="2" [formControl]="answerControl.get('answer')"
                    ck-editor></textarea>
        </div>
      </div>
    </div>
    <hr/>
    <div class="form-group">
      <div class="col-sm-offset-3 col-sm-9">
        <button type="submit" class="btn btn-success">Save Translation
          <!--          TODO-->
          <!--          <ws-text-spinner *ngIf="loading" class="ng-hide"></ws-text-spinner>-->
        </button>
        <a routerLink="/quizzes/{{quiz.id}}/translations" class="btn btn-default">Cancel</a>
      </div>
    </div>
  </form>
  <!--<div *ngIf="questionsLoading">-->
  <!--  <ws-spinner></ws-spinner>-->
  <!--</div>-->
</ng-container>
